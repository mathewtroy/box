from main import main
from rich.console import Console
from rich.panel import Panel

# Initialize rich console
console = Console(force_terminal=True)

if __name__ == "__main__":
    # Starting message
    console.print(
        Panel(
            "[bold yellow]Starting Vulnerability Detector[/bold yellow]\n"
            "[cyan]Please wait while the analysis runs...[/cyan]",
            border_style="green",
        )
    )
    try:
        # Run the main vulnerability detection process
        main()
    except Exception as e:
        console.print(
            Panel(
                f"[bold red]An error occurred:[/bold red] {e}",
                border_style="red",
            )
        )
    finally:
        # Completion message
        console.print(
            Panel(
                "[bold green]Vulnerability Detection Completed![/bold green]\n"
                "[blue]All tests have been executed successfully.[/blue]",
                border_style="cyan",
            )
        )
